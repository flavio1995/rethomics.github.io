--- 
title: "Rethomics Tutorial"
author: "Quentin Geissmann"
date: "`r Sys.Date()`"
site: bookdown::bookdown_site
output: bookdown::gitbook
documentclass: book
bibliography: [book.bib, packages.bib]
biblio-style: apalike
link-citations: yes
github-repo: rstudio/bookdown-demo
description: "This is a tutorial for Rethomics, a framework to analyse high-throuput behavioural data in `R`."
---

# Introduction

In the last few years the ability to acquire large amount of behavioural data
from multiple individual experimental animal has increased.
However, there are still very few tools that allows biologist to **read**, **store**, **visualise** and **process** data 
in a modular and consistant pipeline.

The rethomics framework is a collection of `R` packages that work together in order to provide a **programatic and efficient environment to analyse behavioural data**.
Since `R` is a state of the art software for scientific data visualisation and analysis,
rethomics integrates in a its rich ecosystem of high-standard packages already available.

This tutorial is intended for experimenters and data analysts and provided a suite of 
both **theoritical explanations** and very **concrete examples** of analysis.

## The Rethomics workflow

![TODO figure]()

## The packages

```{r kable, echo=FALSE}
packages <- c("behavr", 
              "ggetho",
              "damr",
              "scopr",
              "sleepr"
              )
titles <- sapply(packages, 
       function(p){
          if(!p %in% rownames(installed.packages()))
            return("Unavailable")
          packageDescription(p, fields="Title")
          }
  )

package_name <- sprintf("[%s](https://github.com/rethomics/%s)", packages, packages)
doc <- sprintf("[![PDF](assets/pdf_icon.png)](https://github.com/rethomics/%s/raw/master/%s.pdf)", packages, packages)
travis_ci <- sprintf("[![%s Travis-CI Status](https://travis-ci.org/rethomics/%s.svg?branch=master)](https://travis-ci.org/rethomics/%s)", packages,packages,packages)

coverage <- sprintf("[![%s Coverage Status](https://img.shields.io/codecov/c/github/rethomics/%s/master.svg)](https://codecov.io/github/%s/behavr?branch=master)", packages, packages, packages)

# `scopr` [![Travis-CI Build Status](https://travis-ci.org/rethomics/scopr.svg?branch=master)](https://travis-ci.org/rethomics/scopr)[![Coverage Status](https://img.shields.io/codecov/c/github/rethomics/scopr/master.svg)](https://codecov.io/github/scopr/behavr?branch=master)
library(knitr)
kable(data.frame(
              Package = package_name,
              Doc = doc, 
              Description = titles,
              Travis.CI = travis_ci,
              Coverage = coverage),
      row.names = FALSE)
``` 

<!--chapter:end:index.Rmd-->

# Getting Started {#intro}


## Getting `R`

If you have never used or heard of `R` before, 
I suggest you start by [reading about `R`](http://r4ds.had.co.nz/) and [installing RStudio](https://www.rstudio.com/products/rstudio/download/#download).
Only once you have done can we continue.

## Installing rethomics packages

As of today ("`r Sys.Date()`"), rethomics packages are not on CRAN, the official R package archive yet.
Therefore, we need to install the developmental version.

For that, we need the package devtools and load it:

```{r, eval=FALSE}
install.packages("devtools")
library(devtools)
```


Ensure you have no error messages.
Then, we can instale some of the rethomics packages.
For instance, to install `behavr`.

```{r, eval=FALSE}
install_github("rethomics/behavr")
```

In the same way, you could replace `behavr` by another package. 
For instance, you could install `ggetho` with `install_github("rethomics/ggetho")`.

# Packages

Here is a list of all the `rethomics` packages as well as their individual description and status:

```{r kable, echo=FALSE}
packages <- c("behavr", 
              "ggetho",
              "damr",
              "scopr",
              "sleepr"
              )
titles <- sapply(packages, 
       function(p){
          if(!p %in% rownames(installed.packages()))
            return("Unavailable")
          packageDescription(p, fields="Title")
          }
  )

package_name <- sprintf("[%s](https://github.com/rethomics/%s)", packages, packages)
doc <- sprintf("[![PDF](assets/pdf_icon.png)](https://github.com/rethomics/%s/raw/master/%s.pdf)", packages, packages)
travis_ci <- sprintf("[![%s Travis-CI Status](https://travis-ci.org/rethomics/%s.svg?branch=master)](https://travis-ci.org/rethomics/%s)", packages,packages,packages)

coverage <- sprintf("[![%s Coverage Status](https://img.shields.io/codecov/c/github/rethomics/%s/master.svg)](https://codecov.io/github/%s/behavr?branch=master)", packages, packages, packages)

# `scopr` [![Travis-CI Build Status](https://travis-ci.org/rethomics/scopr.svg?branch=master)](https://travis-ci.org/rethomics/scopr)[![Coverage Status](https://img.shields.io/codecov/c/github/rethomics/scopr/master.svg)](https://codecov.io/github/scopr/behavr?branch=master)
library(knitr)
kable(data.frame(
              Package = package_name,
              Doc = doc, 
              Description = titles,
              Travis.CI = travis_ci,
              Coverage = coverage),
      row.names = FALSE)
``` 



<!--chapter:end:01-intro.Rmd-->

# Literature

Here is a review of existing methods.

<!--chapter:end:02-literature.Rmd-->

# Methods

We describe our methods in this chapter.

<!--chapter:end:03-method.Rmd-->

# Applications

Some _significant_ applications are demonstrated in this chapter.

## Example one

## Example two

<!--chapter:end:04-application.Rmd-->

# Final Words

We have finished a nice book.

<!--chapter:end:05-summary.Rmd-->

`r if (knitr:::is_html_output()) '# References {-}'`

<!--chapter:end:06-references.Rmd-->

